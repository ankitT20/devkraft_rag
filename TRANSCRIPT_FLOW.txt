┌─────────────────────────────────────────────────────────────────────┐
│                    LIVE API TRANSCRIPT FEATURE                      │
│                     (Web Speech API + Audio)                        │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│                          USER SPEAKS                                │
└─────────────────────────────────────────────────────────────────────┘
                              │
                              ├──────────────────────────────┐
                              │                              │
                              ▼                              ▼
                    ┌──────────────────┐        ┌──────────────────┐
                    │  Web Speech API  │        │  Live API Audio  │
                    │  (Speech-to-Text)│        │   (PCM Stream)   │
                    └──────────────────┘        └──────────────────┘
                              │                              │
                              ▼                              ▼
                    ┌──────────────────┐        ┌──────────────────┐
                    │  Show in Blue    │        │  Send to Gemini  │
                    │  "You: [text]"   │        │   Live Model     │
                    └──────────────────┘        └──────────────────┘
                              │                              │
                              ▼                              │
                    ┌──────────────────┐                    │
                    │  Interim Results │                    │
                    │  (italic, dashed)│                    │
                    └──────────────────┘                    │
                              │                              │
                              ▼                              │
                    ┌──────────────────┐                    │
                    │  Final Results   │                    │
                    │  (solid border)  │                    │
                    └──────────────────┘                    │
                                                             │
┌─────────────────────────────────────────────────────────────────────┤
│                    MODEL PROCESSES & RESPONDS                       │
└─────────────────────────────────────────────────────────────────────┘
                                                             │
                         ┌───────────────────────────────────┤
                         │                                   │
                         ▼                                   ▼
              ┌─────────────────────┐          ┌─────────────────────┐
              │  Function Call?     │          │  Audio Response?    │
              │  (RAG Search)       │          │  (Native Audio)     │
              └─────────────────────┘          └─────────────────────┘
                         │                                   │
                         ▼                                   ▼
              ┌─────────────────────┐          ┌─────────────────────┐
              │  Show in Yellow     │          │  Show in Green      │
              │  "🔍 Searching..."  │          │  "🔊 [Speaking...]" │
              └─────────────────────┘          └─────────────────────┘
                         │                                   │
                         ▼                                   ▼
              ┌─────────────────────┐          ┌─────────────────────┐
              │  Display Results    │          │  Play Audio via     │
              │  "✓ Found N sources"│          │  Web Audio API      │
              └─────────────────────┘          └─────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│                       TRANSCRIPT DISPLAY                            │
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │ ℹ️ Note: User speech transcribed via Web Speech API.         │ │
│  │ Model responses shown as 🔊 (audio only - API limitation)    │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │ 🔵 You: What is RAG?                        [User - Blue]     │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │ 🟡 🔍 Searching knowledge base for: "RAG"  [System - Yellow]  │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │ 🟡 ✓ Found 3 relevant sources               [System - Yellow] │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │ 🟢 🔊 Assistant: [Speaking...]         [Model Audio - Green]  │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│                          KEY FEATURES                               │
│                                                                     │
│  ✅ User Speech → Text (Web Speech API)                            │
│  ✅ Real-time Transcription (interim + final)                      │
│  ✅ System Messages (function calls, searches)                     │
│  ✅ Audio Response Indicator (🔊 [Speaking...])                    │
│  ❌ Model Speech → Text (Not possible - API limitation)            │
│                                                                     │
│  Why not model speech-to-text?                                     │
│  • Gemini Live API: Only AUDIO *OR* TEXT, not both                │
│  • Using AUDIO mode for best native speech quality                 │
│  • No workaround exists in current API                             │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
